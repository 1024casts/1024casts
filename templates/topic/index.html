{{ define "css"}}
    <style type="text/css">
        body {
            background: #e5e5e5;
        }
        .topNav .container {
            border-bottom: 1px solid #E6EAEE;
        }
        .container .columns {
            margin: 1rem 0;
        }
        article.post {
            margin: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #E6EAEE;
        }
        .media-content strong a {
            color: currentColor;
        }
        .media-content p {
            font-size: 14px;
            line-height: 2.3;
            font-weight: 700;
            color: #8F99A3;
        }
        .media + .media {
            margin-top: 0.3rem;
            padding-top: 0.3rem;
        }
    </style>
{{ end }}

{{define "content"}}
    <section class="container">
        <div class="columns">
            <div class="column is-9">
                <div class="box content">
                    {{ range $index, $value := .topics}}
                    <article class="media">
                            <div class="media-left">
                                <p class="image is-48x48">
                                    <img class="is-rounded" src="{{.UserInfo.Avatar}}">
                                </p>
                            </div>
                            <div class="media-content">
                                <div class="content">
                                    <p>
                                        <strong><a href="/topics/{{.Id}}">{{.Title}}</a></strong>
                                        <br>
                                        <span class="tag">Question</span>
                                        <a href="/users/{{.UserInfo.Username}}">@{{.UserInfo.Username}}</a> •
                                        {{if gt .LastReplyUserId 0}} 最后由
                                            <a class="user-name" data-name="{{.LastReplyUserInfo.Username}}" href="/users/{{.LastReplyUserInfo.Username}}">
                                                {{.LastReplyUserInfo.Username}}
                                            </a> •
                                            回复于 <abbr class="timeago" title="{{.LastReplyTimeAt}}">{{.LastReplyTimeAt}}</abbr>
                                        {{else}}
                                            发布于 <abbr class="timeago" title="{{.CreatedAt}}">{{.CreatedAt}}</abbr>
                                        {{end}}
                                    </p>
                                </div>
                            </div>
                            <div class="media-right">
                                <span class="has-text-grey-light"><i class="fa fa-comments"></i> {{.ReplyCount}}</span>
                            </div>
                    </article>
                    {{end}}
                </div>
                <nav class="pagination is-rounded" role="navigation" aria-label="pagination">
                    {{.pages}}
                </nav>
            </div>
            <div class="column is-3">
                {{if gt .user_id 0}}
                    <div class="box">
                        <a class="button is-primary is-block is-alt is-medium" href="/topic/new">新建话题</a>
                    </div>
                {{end}}

                <div class="card">
                    <header class="card-header">
                        <p class="card-header-title">
                            最新课程
                        </p>
                    </header>
                    <div class="card-content">
                        <div class="content">
                            <dl class="is-lower-roman">
                                <li><a href="#">Coffee</a></li>
                                <li><a href="#">Coffee</a></li>
                                <li><a href="#">Coffee</a></li>
                            </dl>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </section>
{{end}}

{{ define "js"}}
{{ end }}
